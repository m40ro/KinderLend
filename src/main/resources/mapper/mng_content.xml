<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
        namespace="com.tenco.toyproject.repository.interfaces.mng.MngContentRepository">

    <!-- 회사 소개 조회 -->
    <select id="getCompanyInfo" resultType="com.tenco.toyproject.repository.entity.Content">
        select * FROM information WHERE TYPE = 0
    </select>

    <!-- 이용 수칙 조회 -->
    <select id="getRulesOfUse" resultType="com.tenco.toyproject.repository.entity.Content">
        select * FROM information WHERE TYPE = 1
    </select>

    <!-- 소독 과정 조회 -->
    <select id="getDisinfectionProcess" resultType="com.tenco.toyproject.repository.entity.Content">
        select * FROM information WHERE TYPE = 2
    </select>

    <!-- 없으면 INSERT 있으면 UPDATE -->
    <update id="createContent">
        INSERT INTO information (id, content, TYPE, created_at) VALUES (#{id}, #{content}, #{TYPE}, NOW())
            ON DUPLICATE KEY UPDATE content = #{content}, TYPE = #{TYPE}, created_at = NOW()
    </update>
</mapper>